MONOLITHIC: in monolithic we use single sever and single db for multiple services
MICRO SERVICE: in micro service we use multiple servers and multiple dbs for multiple services
                ( we have to choose the architecture based on aplication and its services)

In micro services we do not use servers, we use containers.
CONTAINER: container is virtual machine without having OS
DOCKER: it is a tool used to create a container, and the container uses IMAGE which is having os&packages already installed(pre built).
                            SERVER = VM = CONTAINER
                                      
DOCKER:
      it is a open source entralized platform designed to create, deploy and run the application
      docker is written in GO language
      docker creates containers on host os to run application
      we can install docker in any os but docker engine runs natively on linux distributions.
      It allows applications to use the same Linux kernel as a system on the host computer, rather than creating a whole virtual O.S.
      Before Docker performs O.S level Virtualization also known as Containerization. process of packing application along with its dependencies.
      It was initially released in March 2013, and developed by Solomon Hykes and Sebastian Pahl.
      Docker is a set of platform-as-a-service that use O.S level Virtualization, where as VM ware uses Hardware level Virtualization.
      Container have O.S files but its negligible in size compared to original files of that O.S.
COMPONANTS:
       CLIENT: It takes the commands and executes with communication docker daemon
       HOST: The place where you installed docker.
       DAEMON: Deals with docker componets(images, containers, volumes ----). it is inside docker host.
       REGISTRY: It stores all the Images.
       =================================================================================================
DAY02 31-05-2023:

WORKING WITH DOCKER:
       installation:
       yum install docker -y
       systemctl restart or start docker.service
       sytemctl status docker.service
       docker --version
 DOCKER COMMANDS:
 
       docker pull ubuntu     --> to get ubuntu image form rigistry, i.e., we are getting ubuntu os image from rigistry to work
       docker images          --> to see the all images 
       docker run ubuntu       ---> to create container. but here we did not given cnt name so its takes a default name with ubuntu image
       docker run --name sairamana ubutu 
                               --> creating cnt with name and with ubuntu os image, but not entering into container
       docker run -it --sairamana2 ubuntu  
                                --> creating ctn with name and with ubuntu os image and entering into cnt.
                                -it --> interactive terminal
       docker ps -a             --> to check all containers
       docker ps                --> to check all active containers
       docker start saiamana    --> to start stopped container
       docker attach sairamana2 --> to go into a perticular container
       
 Inside a container:
       apt update -y                --> in ubuntu package manager is "apt" (advance paackage tool)
       apt install maven -y         --> install maven in sairamana2 cnt with os image ubuntu
       apt install mysql-server -y  --> creating mysql server in sairamana2 cnt   """""""'
       mkdir sai                    --> creating sai directory in sairamana2 cnt  """"""""
       touch sai/file.txt           --> creating file.txt in sai directory in sairamana2 container """""
       ( so now all above things are done in sairamana2 cnt with ubuntu os image)
        ctrl pq                       --> to exti from container.
       docekr commit sairamana2 image:v1 --> to creating a os image from sairamana2 container and whatever the informatin of sairamana2 container 
                                             will be available in "image:v1" image
       ctrl pq
       docker run -it --name sairamana4 image:v1 --> creating new container sairamana4 with os image "image:v1". and all the files and services
                                                     and etc are present in sairamana2 container will be available in sairamana4 container too
                                                     because we have taken the os image from sairamana2 cnt by comminting image:v1
                                                     (i.e., sai directory, file.txt, maven will have in sairamama4 container also)
        =======================================================================================================================
   
DOCKER FILE:
          > It is an automated method to create docker images.
          > in docker file D must be captial.
          > in single folder we need to have only one docker file.
          > docker file will have some componets inside it.
          > each component is on CAPITAL letter.




















======================================================================================================
Day 03 01-06-2023
                                                                                                      [some impartant facts:
VOLUMES:                                                                                                     ctrl pq-> to come out from container by not stopping cnt.
-> By default when we create a volume the data will also going t store in the local host                      

PART1(CONTAINER TO CONTAINER VOLUME CREATION):
       1. vim Dockerfile--> FROM ubuntu
                            VOLUMES ["/volume1"]
          docker build -t image:v1
          docker run -it --name sairamana1 imaage:v1
          ls--> volume1
          cd volume1 
          touch file{1..3}
          ctrl pq
          docker run -it --name sairamana2 --volumes-from=sairamana1 --privileged=true ubuntu
           ls--> volume1 will be have in sairamana2 container with the files which are created in sairamana1 container
                 and if we create some more files in this sairamana2 container volume1 and these file will aslo be get into sairamana1 cnt volume1
       2. run time volume creation(creating volume at the time of creating cnt)
          docker run -it --name container3 -v volume2 ubuntu
          ls-->cd volume2--> touch file{1..3}
          ctrl pq 
          docker run -it --name container4 --volumes-from=container3 --privileged=true ubuntu
          now the files which are residing container volume3 will be having in container4
          and if we add somemore files in container4 than thay are also appeared in container3.
        3. from commands (volume mounting)
           docker volume create volume3
           docker inspect volume3
           cd /var/lib/docker/volumes/volume4/_data
           touch file{4.6}
           docker run -it --name container4 --mount source=volume4,destination=/volume4 ubuntu
          
PART2(CONTAINER TO LOCAL)
           -> container cannot copy the files so
            docker volume ls 
            docker inspect volume4
            cd /var/lib/docker/volumes/volume4/_data
            cp * -r /root/
            
PART3(LOCAL TO CONTAINER)
           1. by using docker file method
           2. cd /home/ec2-user/
              touhc file{1..5}
              docker run -it --name container7 -v /home/ec2-user:/volume5 ubuntu
              cd volume5
              ls
              file1.....file5
              touch file{6..10}
              ctrl pq 
              -> now we can have file1....file10 in our root directory .ie., where we have created first five files.
              
              
 DOCKER SYSTEM COMMANDS:( to show the memory utiligation of docker componants such as image, container. volumes .etc..)
              docker info
              docker system df (it gives all the info of images, cnts, volumes)
              docker system prune --all ( it will delete the -all stopped containers
                                                             -all networks not used by atleast one container
                                                             -all images without at least one container associated to them
                                                             -all buil catch 
                                                             - it asks confirmation first inorder to delete these all info
              docker system prune --force ( it will not ask confirmation to delete all the above info)
              docker system prune --volumes (to delete unused volumes)

 
 
JENKINS INSTALLATION IN CONTAINER:

yum install docker -y                                                                             NOTE: 1. TO START CONTAINER WHIHC IS IN STOPPED BY 
systemctl start docker                                                                                     docker start container name
systemctl status docker                                                                                    docker stop container name
docker run -itd --name jenkins -p 8080:8080 jenkins/jenkins:lts                                          2. WE CAN NOT BRING THEM BACK SOME CONTAINERS WHICH ARE IN 
docker logs jenkins ---> to see the password of jenkins                                                     STOPPED STATE.
                                                                                                         3. TO DELETE A CONTAINER WE NEED STOP THAT CONTAINER FIRST 
in local hsot create one webapplication file i.e, index.html                                                AFTER THAT WE CAN USE "docker rm cnt1 cnt2"  etc..
vim Dockerfile--> FROM ubuntu
                  RUN apt update -y
                  RUN apt install apache2 -y
                  COPY index.html /var/www/html
                  CMD ["/usr/sbin/apachectl", "-D", "FOREGROUND"]
docker build -t image:v1 .
docker run -itd --name appcontainer -p 89:80 image:v1
-------------> now open host public ip:89 port than the web application we can see on browser.

                                             
                          
                          
                          
                          
                          
                                             
      
       
      

